{% extends 'main/layout.html' %}

{% block body %}

    <div id="app"></div>
   
    <script type="text/babel">
        function App() {
            const {useState, useEffect} = React;

            const [username, setUsername] = useState('');
            const [password, setPassword] = useState('');
            const [confimPassword, setConfirmPassword] = useState('');
            const [firstName, setFirstName] = useState('');
            const [lastName, setLastName] = useState('');
            const [age, setAge] = useState();
            const [weight, setWeight] = useState();
            const [height, setHeight] = useState();
            const [message, setMessage] = useState('');

            React.useEffect(() => {
                setMessage({{message}});
            }, [])
   
            return (
                <div>
                    <h1>Sign Up</h1>
                    { message ? <div>{message}</div> : null }
                    <form action="{% url 'signup' %}" method="post">
                        <input type="hidden" name="csrfmiddlewaretoken" value="{{csrf_token}}" />
                        <label for="username">Username:</label>
                        <input type="text" id="username" name="username" value={username} onChange={(e) => setUsername(e.target.value)} required />
                        <label for="password">Password: </label>
                        <input type="password" id="password" name="password" value={password} onChange={(e) => setPassword(e.target.value)} required />
                        <label for="password">Confirm Password: </label>
                        <input type="password" id="confirm_password" name="confirm_password" value={confimPassword} onChange={(e) => setConfirmPassword(e.target.value)} required />
                        <label for="fname">First Name:</label>
                        <input type="text" id="fname" name="fname" value={firstName} onChange={(e) => setFirstName(e.target.value)} required />
                        <label for="lname">Last Name:</label>
                        <input type="text" id="lname" name="lname" value={lastName} onChange={(e) => setLastName(e.target.value)} required />
                        <label for="age">Age:</label>
                        <input type="number" id="age" name="age" value={age} onChange={(e) => setAge(e.target.value)} required />
                        <label for="weight">Weight (kg):</label>
                        <input type="number" id="weight" name="weight" value={weight} onChange={(e) => setWeight(e.target.value)} required />
                        <label for="height">Height (meters):</label>
                        <input type="number" id="height" name="height" min="0" max="1000" step="0.01" value={height} onChange={(e) => setHeight(e.target.value)} required />
                        <input type="submit" value="Sign Up" />
                    </form>
                </div>
            );
        }
        ReactDOM.render(<App />, document.querySelector("#app"));
    </script>

{% endblock %}